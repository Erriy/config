# 基础配置 =================================================================================================
# windows键为mod键 
set $mod Mod4
# 字体
font pango:monospace 8, FontAwesome 8
# floating窗口的移动热键，按下热键+鼠标左键即可拖动窗口
floating_modifier $mod
# workspace名称
set $ws0 "0"
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
# 窗口颜色                边框    背景     文字     提示
client.focused          #880000 #000000 #ff0000 #ff0000
client.focused_inactive #000000 #000000 #008800 #3399FF
client.unfocused        #444444 #000000 #009999 #3399FF
client.urgent           #990000 #990000 #000000 #990000
client.placeholder      #000000 #000000 #000000 #000000
client.background       #000000
bar {
    status_command    conky -c ~/.config/conkyrc
    position          top
    mode              hide
    modifier          $mod
    font pango:monospace 8, FontAwesome 8

    colors {
        background #000000
        statusline #ffffff
        # 工作区颜色         边框    背景     文字
        focused_workspace  #ffffff #ff0000 #ffffff
        active_workspace   #000088 #008800 #880000
        inactive_workspace #888888 #222222 #008800
        urgent_workspace   #ffffff #900000 #ff0000
    }
}
# => 窗口边框类型（边框类型有normal正常/none无边框/pixel 1 自定义宽度）
# 默认普通窗口的边框类型
new_window normal
# 默认浮动窗口的边框类型
new_float normal
# 取消工作区边缘的边框
hide_edge_borders both
# 特例窗口样式
for_window [class="copyq"] floating enable border none
for_window [class="Code"] border none
for_window [class="Google-chrome"] border none
for_window [class="Firefox"] border none
for_window [class="electronic-wechat"] border none floating enable

# 自动启动 =================================================================================================
# 设置壁纸
exec --no-startup-id feh --bg-center /etc/lightdm/blackarch_fog.png
# 触摸板双指自然滚动
exec --no-startup-id synclient VertScrollDelta=-103
exec --no-startup-id synclient HorizScrollDelta=-103
# 键盘打字后0.5秒才可响应触摸板事件（防误触
exec --no-startup-id syndaemon -i 0.5 -t -K -R -d
# goldendict词典
exec --no-startup-id goldendict
# 消除sogou舒服法切换时的黑色边框
exec --no-startup-id xcompmgr -c
# 合盖自动锁定
exec --no-startup-id "xss-lock -- i3lock -i /etc/lightdm/blackarch_fog.png -e -f -c \"#000000\""
# 剪贴板管理器
exec --no-startup-id copyq

# 快捷键 ==================================================================================================
# 启动终端
bindsym $mod+Return exec i3-sensible-terminal
# 音量调整
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set Master playback 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set Master playback 5%-
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle
# 亮度调整
bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc 10 # increase screen brightness
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10 # decrease screen brightness
# 截图
bindsym Print exec --no-startup-id scrot -e 'mv $f /tmp/ && gimp /tmp/$f'
bindsym $mod+Print --release exec --no-startup-id scrot -s -e 'mv $f /tmp/ && gimp /tmp/$f'
# 锁定、解锁触摸板
bindsym $mod+Shift+l exec --no-startup-id "(synclient TouchpadOff=$(synclient | sed '/TouchpadOff/{s/0/1/; t;s/2/1/; t;s/1/0/;}' | sed -rn 's/.*TouchpadOff.*=.*([0-9]+)/\1/p')) && killall syndaemon && syndaemon -i 0.5 -t -K -R -d"
# => 暂存窗口（额外的可隐藏浮动窗口，取消浮动还原成普通窗口）
# 转换普通窗口为暂存窗口
bindsym $mod+Shift+minus move scratchpad
# 呼出/隐藏暂存窗口
bindsym $mod+minus scratchpad show
# 关闭当前窗口
bindsym $mod+Shift+q kill
# rofi启动器，启动软件
bindsym $mod+d exec --no-startup-id rofi -show run
# thunar文件管理器
bindsym $mod+F8 exec --no-startup-id thunar
# chrome浏览器
bindsym $mod+F9 exec --no-startup-id google-chrome-stable
# vscode
bindsym $mod+Insert exec --no-startup-id code
# 系统锁定
bindsym $mod+l exec --no-startup-id i3lock -i /etc/lightdm/blackarch_fog.png -e -f -c "#000000"
# 剪贴板管理器
bindsym Control+Mod1+v exec --no-startup-id copyq show

# 切换窗口焦点
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right
# 移动窗口
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right
# 下一个窗口的开启位置 
bindsym $mod+h split h
bindsym $mod+v split v
# 当前窗口全屏
bindsym $mod+f fullscreen toggle
# 窗口显示模式切换
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
# 当前窗口的平铺/浮动切换
bindsym $mod+Shift+space floating toggle
# 在平铺窗口与浮动窗口之间切换焦点
bindsym $mod+space focus mode_toggle
# 切换workspace
bindsym $mod+grave workspace $ws0
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
# 移动当前窗口到其他的workspace
bindsym $mod+Shift+grave move container to workspace $ws0
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
# 重新加载配置文件
bindsym $mod+Shift+c reload
# 重新启动i3wm
bindsym $mod+Shift+r restart
# 退出i3wm
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# 窗口大小调整
bindsym $mod+r mode "resize"
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

# 在三种边框类型中切换
bindsym $mod+b border toggle
